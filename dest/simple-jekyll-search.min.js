"use strict";!function(e,t){function n(e){d.put(e),u()}function i(e){m.load(e,function(t,i){t&&c("failed to get JSON ("+e+")"),n(i)})}function l(){f.resultsContainer.innerHTML=""}function r(e){f.resultsContainer.innerHTML+=e}function u(){f.searchInput.addEventListener("keyup",function(e){var t=e.which;if(s(t)){l();var n=e.target.value;a(n)&&o(d.search(n))}})}function o(e){if(0===e.length)return r(f.noResultsText);for(var t=0;t<e.length;t++)r(h.compile(e[t]))}function a(e){return e&&e.length>0}function s(e){return-1===[13,16,20,37,38,39,40,91].indexOf(e)}function c(e){throw new Error("SimpleJekyllSearch --- "+e)}var f={searchInput:null,resultsContainer:null,json:[],searchResultTemplate:'<li><a href="{url}" title="{desc}">{title}</a></li>',templateMiddleware:function(){},noResultsText:"No results found",limit:10,fuzzy:!1,exclude:[]},p=["searchInput","resultsContainer","json"],h=require("./Templater"),d=require("./Repository"),m=require("./JSONLoader"),S=require("./OptionsValidator")({required:p}),y=require("./utils");e.SimpleJekyllSearch=function(e){var t=S.validate(e);t.length>0&&c("You must specify the following required options: "+p),f=y.merge(f,e),h.setOptions({template:f.searchResultTemplate,middleware:f.templateMiddleware}),d.setOptions({fuzzy:f.fuzzy,limit:f.limit}),y.isJSON(f.json)?n(f.json):i(f.json)},e.SimpleJekyllSearch.init=e.SimpleJekyllSearch,"function"==typeof e.SimpleJekyllSearchInit&&e.SimpleJekyllSearchInit.call(this,e.SimpleJekyllSearch)}(window,document);